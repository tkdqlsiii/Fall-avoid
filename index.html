<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Gamedev Canvas Workshop</title>
    <style>
       * { padding: 0; margin: 0; background-image: linear-gradient(to right, #6a11cb 0%, #2575fc 100%);}
       canvas { background: #eee; display: block; margin: 0 auto; }
        
    </style>
</head>
<body>

<canvas id="myCanvas" width="480" height="720"></canvas> 

<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");

var ballRadius = 20;                        //공 반지름 

var dx = 0;                                 //프레임마다 움직이는 x축 거리
var dy = 3;                                 //프레임마다 움직이는 y축 거리

var leftPressed = false;                    //왼쪽 누름인식 false 초기화
var rightPressed = false;                   //왼쪽 누름인식 false 초기화

var x = canvas.width/2;                     //공의 위치
var y = 0;                                  //공의 위치

var score = 0;
//장애물 크기 설정
var block01Radius = 125;                    // 01번째 장애물 크기 
var block01X = canvas.width-400;            // 01번째 장애물  X좌표 (원의 중심점)
var block01Y = 60;                          // 01번째 장애물  Y좌표 (원의 중심점)
var block02Radius = 125;                
var block02X = 400;
var block02Y = 60;
var block03Radius = 120;                    
var block03X = canvas.width-240;
var block03Y = 375;
var block04Radius = 180;             
var block04X = 1;
var block04Y = 720;
var block05Radius = 180;                  
var block05X = 480;
var block05Y = 720;
var block06Radius = 180;                   
var block06X = 1;
var block06Y = 0;
var block07Radius = 220;                     
var block07X = canvas.width-130;
var block07Y = 360;
var block08Radius = 130;                   
var block08X = 30;
var block08Y = canvas.height-20;
var block09Radius = 140;                  
var block09X = 40;
var block09Y = 20;
var block10Radius = 200;                 
var block10X = 200;
var block10Y = 300;
var block11Radius = 110;                    
var block11X = canvas.width-20;
var block11Y = canvas.height-110;
var block12Radius = 200;
var block12X = 100;
var block12Y = 500;
var block13Radius = 60;
var block13X = 335;
var block13Y = 400;
var block14Radius = 90;
var block14X = canvas.width-25;
var block14Y = canvas.height-10;
var block15Radius = 200;
var block15X = 0;
var block15Y = 0;
var block16Radius = 90;
var block16X = canvas.width;
var block16Y = -10;
var block17Radius = 130;
var block17X = canvas.width-15;
var block17Y = 185;
var block18Radius = 130;
var block18X = 120;
var block18Y = 290;
var block19Radius = 150;
var block19X = canvas.width-55;
var block19Y = canvas.height-230;
var block20Radius = 120;
var block20X = 100;
var block20Y = canvas.height-60;
var block21Radius = 100;
var block21X = 50;
var block21Y = 100;
var block22Radius = 130;
var block22X = canvas.width-20;
var block22Y = 60;
var block23Radius = 300;
var block23X = canvas.width-60;
var block23Y = 400;
var block24Radius = 120;
var block24X = 45;
var block24Y = canvas.height; 
var block25Radius = 120;
var block25X = canvas.width-240;
var block25Y = 375; 
var block26Radius = 125;
var block26X = 400;
var block26Y = 200; 
var block27Radius = 100;
var block27X = 30;
var block27Y = 550; 
var block28Radius = 200;
var block28X = 2;
var block28Y = canvas.height; 
var block29Radius = 200;
var block29X = 2;
var block29Y = 0; 
var block30Radius = 200;
var block30X = 80;
var block30Y = 300; 
var block31Radius = 160;
var block31X = canvas.width+15;
var block31Y = 360; 
var block32Radius = 300;
var block32X = -100;
var block32Y = canvas.height; 
var block33Radius = 120;
var block33X = 120;
var block33Y = 120; 
var block34Radius = 100;
var block34X = canvas.width-60;
var block34Y = 150; 
var block35Radius = 100;
var block35X = 170;
var block35Y = 320; 
var block36Radius = 90;
var block36X = canvas.width-50;
var block36Y = 330; 
var block37Radius = 100;
var block37X = 80;
var block37Y = 500; 
var block38Radius = 120;
var block38X = canvas.width-90;
var block38Y = 520; 
var block39Radius = 80;
var block39X = 150;
var block39Y = canvas.height-60; 
var block40Radius = 60;
var block40X = canvas.width-130;
var block40Y = canvas.height-40; 
var block41Radius = 60;
var block41X = canvas.width-130;
var block41Y = canvas.height-40;
var block42Radius = 60; 
var block42X = canvas.width-130;
var block42Y = canvas.height-40; 
var rectangleX = 0;                             //STAGE 종료를 위한 마지막에 위치하는 사각형의 X좌표
var rectangleY = canvas.height;                 //STAGE 종료를 위한 마지막에 위치하는 사각형의 Y좌표
var rectangleWidth = 480;                       //STAGE 종료를 위한 마지막에 위치하는 사각형의 너비
var rectangleHeight = 1;                        //STAGE 종료를 위한 마지막에 위치하는 사각형의 높이

//장애물과 공의 거리설정을위한 계산
var distance01X;                                //(01번째 장애물의 X좌표 - 공의 X좌표)
var distance01Y;                                //(01번째 장애물의 Y좌표 - 공의 Y좌표)
var distance02X;       
var distance02Y;         
var distance03X;        
var distance03Y;         
var distance04X;        
var distance04Y;         
var distance05X;        
var distance05Y;        
var distance06X;         
var distance06Y;      
var distance07X;         
var distance07Y;      
var distance08X;        
var distance08Y;          
var distance09X;         
var distance09Y;          
var distance10X;          
var distance10Y;          
var distance11X;        
var distance11Y;         
var distance12X;        
var distance12Y;         
var distance13X;       
var distance13Y;       
var distance14X;        
var distance14Y;          
var distance15X;          
var distance15Y;        
var distance16X;    
var distance16Y;       
var distance17X;        
var distance17Y;     
var distance18X;        
var distance18Y;    
var distance19X;       
var distance19Y;    
var distance20X;         
var distance20Y;          
var distance21X;          
var distance21Y;          
var distance22X;          
var distance22Y;       
var distance23X;          
var distance23Y;          
var distance24X;         
var distance24Y;         
var distance25X;         
var distance25Y;         
var distance26X;         
var distance26Y;  
var distance27X;         
var distance27Y; 
var distance28X;         
var distance28Y;  
var distance29X;         
var distance29Y;  
var distance30X;         
var distance30Y;  
var distance31X;         
var distance31Y;  
var distance32X;         
var distance32Y;  
var distance33X;         
var distance33Y;  
var distance34X;         
var distance34Y;  
var distance35X;         
var distance35Y;  
var distance36X;         
var distance36Y;  
var distance37X;         
var distance37Y;  
var distance38X;         
var distance38Y;  
var distance39X;         
var distance39Y;
var distance40X;
var distance40Y;
var distance41X;
var distance41Y;
var distance42X;
var distance42Y;
var distance01;          //ROOT((01번째 장애물의 X좌표 - 공의 X좌표)^2+(01번째 장애물의 Y좌표 - 공의 Y좌표)^2)
var distance02;        
var distance03;        
var distance04;
var distance05;
var distance06;
var distance07;
var distance08;
var distance09;
var distance10;
var distance11;
var distance12;
var distance13;
var distance14;
var distance15;
var distance16;
var distance17;
var distance18;
var distance19;
var distance20;
var distance21;
var distance22;
var distance23;
var distance24;
var distance25;
var distance26;
var distance27;
var distance28;
var distance29;
var distance30;
var distance31;
var distance32;
var distance33;
var distance34;
var distance35;
var distance36;
var distance37;
var distance38;
var distance39;
var distance40;
var distance41;
var distance42;
//캐릭터원과 장애물원의 반지름의 합
var sumradius01;                   //01번 장애물과 캐릭터원의 반지름의 합
var sumradius02;                   
var sumradius03;                   
var sumradius04;
var sumradius05;
var sumradius06;                   
var sumradius07;                   
var sumradius08;
var sumradius09;
var sumradius10;                   
var sumradius11;                   
var sumradius12;
var sumradius13;
var sumradius14;                   
var sumradius15;                   
var sumradius16;
var sumradius17;
var sumradius18;                   
var sumradius19;                   
var sumradius20;
var sumradius21;
var sumradius22;                   
var sumradius23;                   
var sumradius24;
var sumradius25;
var sumradius26;                   
var sumradius27;                   
var sumradius28;
var sumradius29;
var sumradius30;                   
var sumradius31;                   
var sumradius32;
var sumradius33;
var sumradius34;                   
var sumradius35;                   
var sumradius36;
var sumradius37;
var sumradius38;                   
var sumradius39;
var sumradius40;     
var sumradius41;
var sumradius42;              

var count = 0;

document.addEventListener("keydown", keyDownHandler, false);            //키를 누르면 함수시작
document.addEventListener("keyup", keyUpHandler, false);                //키를 때면 함수시작

function keyDownHandler(e) {                                            //키를 누르면 e변수에 저장
    if(e.keyCode == 39) {                                               //오른쪽 방향키
        rightPressed = true;
    }
    else if(e.keyCode == 37) {                                          //왼쪽 방향키
        leftPressed = true;
    }
}

function keyUpHandler(e) {                                              //키를 때면 e변수에 저장
    if(e.keyCode == 39) {                                               //오른쪽 방향키
        rightPressed = false;
    }
    else if(e.keyCode == 37) {                                          //왼쪽 방향키
        leftPressed = false;
    }
}

//공을 그리는 함수 + 방향키 입력도 받으면서 그립니다.
function drawBall() {
    score++;
    ctx.beginPath();
    if(rightPressed) {                          // 오른쪽키가 true(누른상태)이면
    x += 3;                                     // x값을 3추가
    }
    else if(leftPressed) {                      // 왼쪽키가 true(누른상태)이면
    x -= 3;                                     // x값을 3감소
    }
    ctx.arc(x, y, ballRadius, 0, Math.PI*2);    // x , y, 지름등 값을 참조하여 원을 그린다.
    ctx.fillStyle = "#0095DD";                  // 색을 "#0095DD"로 채울거임
    ctx.fill();                                 // 채움
    ctx.closePath();                            // 공그리는 path는 여기까지
}

//스테이지1의 장애물표시 함수
function stage1by1(){                           
    ctx.arc(block01X, block01Y, block01Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block02X, block02Y, block02Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block03X, block03Y, block03Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block04X, block04Y, block04Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block05X, block05Y, block05Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();
}

function stage1by2(){              
    block01Radius =0;
    block02Radius =0;
    block03Radius =0;
    block04Radius =0;
    block05Radius =0;
    block01X = 500; 
    block02X = 500;
    block03X = 500;
    block04X = 500;
    block05X = 500;

    ctx.arc(block06X, block06Y, block06Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block07X, block07Y, block07Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block08X, block08Y, block08Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();
}

function stage1by3(){       
    block06Radius =0;
    block07Radius =0;
    block08Radius =0;
    block06X = 500; 
    block07X = 500; 
    block08X = 500; 
    
    ctx.arc(block09X, block09Y, block09Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block10X, block10Y, block10Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block11X, block11Y, block11Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.rect(rectangleX,rectangleY,rectangleWidth,rectangleHeight);
    ctx.fillstyle = "black";
    ctx.fill();
    ctx.closePath();
}

function stage2by1(){       
    block09Radius =0;
    block10Radius =0;
    block11Radius =0;
    block09X = 500;
    block10X = 500;
    block11X = 500;
    rectangleWidth = 0;
    
    ctx.arc(block12X, block12Y, block12Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block13X, block13Y, block13Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block14X, block14Y, block14Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

}

function stage2by2(){       
    block12Radius =0;
    block12Radius =0;
    block13Radius =0;
    block13X = 500;
    block14X = 500;
    block14X = 500; 
    
    ctx.arc(block15X, block15Y, block15Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block16X, block16Y, block16Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block17X, block17Y, block17Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block18X, block18Y, block18Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block19X, block19Y, block19Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block20X, block20Y, block20Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();
}


function stage2by3(){       
    block15Radius =0;
    block16Radius =0;
    block17Radius =0;
    block18Radius =0;
    block19Radius =0;
    block20Radius =0;
    block15X = 500;
    block16X = 500;
    block17X = 500;
    block18X = 500;
    block19X = 500;
    block20X = 500; 
    rectangleWidth = 480;
    
    ctx.arc(block21X, block21Y, block21Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block22X, block22Y, block22Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block23X, block23Y, block23Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block24X, block24Y, block24Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.rect(rectangleX,rectangleY,rectangleWidth,rectangleHeight);
    ctx.fillstyle = "black";
    ctx.fill();
    ctx.closePath();
}

function stage3by1(){       
    block21Radius =0;
    block22Radius =0;
    block23Radius =0;
    block24Radius =0;
    block21X = 500;
    block22X = 500;
    block23X = 500;
    block24X = 500;
    rectangleWidth = 0;
    
    ctx.arc(block25X, block25Y, block25Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block26X, block26Y, block26Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block27X, block27Y, block27Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block28X, block28Y, block28Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block42X, block42Y, block42Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

}

function stage3by2(){       
    block25Radius =0;
    block26Radius =0;
    block27Radius =0;
    block28Radius =0;
    block42Radius =0;
    block25X = 500;
    block26X = 500;
    block27X = 500;
    block28X = 500;
    block29X = 500;
    
    
    ctx.arc(block29X, block29Y, block29Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block30X, block30Y, block30Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block31X, block31Y, block31Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block32X, block32Y, block32Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block41X, block41Y, block41Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

}

function stage3by3(){       
    block29Radius =0;
    block30Radius =0;
    block31Radius =0;
    block32Radius =0;
    block41Radius =0;
    block29X = 500;
    block30X = 500;
    block31X = 500;
    block32X = 500;
    block41X = 500;
    rectangleWidth = 480;
    
    ctx.arc(block33X, block33Y, block33Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block34X, block34Y, block34Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block35X, block35Y, block35Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block36X, block36Y, block36Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block37X, block37Y, block37Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block38X, block38Y, block38Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block39X, block39Y, block39Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.arc(block40X, block40Y, block40Radius, 0, Math.PI*2);    //
    ctx.fillStyle = "#0095DD";
    ctx.fill();
    ctx.closePath();

    ctx.rect(rectangleX,rectangleY,rectangleWidth,rectangleHeight);
    ctx.fillstyle = "black";
    ctx.fill();
    ctx.closePath();

}



//프레임 진행 함수
function draw() {
    x += dx;                                                        //프레임당 진행 변수
    y += dy;  

    //장애물과 공의 거리설정을위한 계산
    distance01X = Math.pow(block01X - x,2);                     //x.square
    distance01Y = Math.pow(block01Y - y,2);                     //y.square

    distance02X = Math.pow(block02X - x,2);        
    distance02Y = Math.pow(block02Y - y,2);          

    distance03X = Math.pow(block03X - x,2); 
    distance03Y = Math.pow(block03Y - y,2); 

    distance04X = Math.pow(block04X - x,2);     
    distance04Y = Math.pow(block04Y - y,2);         

    distance05X = Math.pow(block05X - x,2);         
    distance05Y = Math.pow(block05Y - y,2);   
    
    distance06X = Math.pow(block06X - x,2);        
    distance06Y = Math.pow(block06Y - y,2);          

    distance07X = Math.pow(block07X - x,2); 
    distance07Y = Math.pow(block07Y - y,2); 

    distance08X = Math.pow(block08X - x,2);     
    distance08Y = Math.pow(block08Y - y,2);         

    distance09X = Math.pow(block09X - x,2);         
    distance09Y = Math.pow(block09Y - y,2);   

    distance10X = Math.pow(block10X - x,2);        
    distance10Y = Math.pow(block10Y - y,2);          

    distance11X = Math.pow(block11X - x,2); 
    distance11Y = Math.pow(block11Y - y,2); 

    distance12X = Math.pow(block12X - x,2);     
    distance12Y = Math.pow(block12Y - y,2);         

    distance13X = Math.pow(block13X - x,2);         
    distance13Y = Math.pow(block13Y - y,2);   

    distance14X = Math.pow(block14X - x,2);        
    distance14Y = Math.pow(block14Y - y,2);          

    distance15X = Math.pow(block15X - x,2); 
    distance15Y = Math.pow(block15Y - y,2); 

    distance16X = Math.pow(block16X - x,2);     
    distance16Y = Math.pow(block16Y - y,2);         

    distance17X = Math.pow(block17X - x,2);         
    distance17Y = Math.pow(block17Y - y,2);   

    distance18X = Math.pow(block18X - x,2);        
    distance18Y = Math.pow(block18Y - y,2);          

    distance19X = Math.pow(block19X - x,2); 
    distance19Y = Math.pow(block19Y - y,2); 

    distance20X = Math.pow(block20X - x,2);     
    distance20Y = Math.pow(block20Y - y,2);         

    distance21X = Math.pow(block21X - x,2);         
    distance21Y = Math.pow(block21Y - y,2);   

    distance22X = Math.pow(block22X - x,2);        
    distance22Y = Math.pow(block22Y - y,2);          

    distance23X = Math.pow(block23X - x,2); 
    distance23Y = Math.pow(block23Y - y,2); 

    distance24X = Math.pow(block24X - x,2);     
    distance24Y = Math.pow(block24Y - y,2);         

    distance25X = Math.pow(block25X - x,2);     
    distance25Y = Math.pow(block25Y - y,2);         

    distance26X = Math.pow(block26X - x,2);         
    distance26Y = Math.pow(block26Y - y,2);   

    distance27X = Math.pow(block27X - x,2);        
    distance27Y = Math.pow(block27Y - y,2);          

    distance28X = Math.pow(block28X - x,2); 
    distance28Y = Math.pow(block28Y - y,2); 

    distance29X = Math.pow(block29X - x,2);     
    distance29Y = Math.pow(block29Y - y,2);         

    distance30X = Math.pow(block30X - x,2);         
    distance30Y = Math.pow(block30Y - y,2);   

    distance31X = Math.pow(block31X - x,2);        
    distance31Y = Math.pow(block31Y - y,2);          

    distance32X = Math.pow(block32X - x,2); 
    distance32Y = Math.pow(block32Y - y,2); 

    distance33X = Math.pow(block33X - x,2);     
    distance33Y = Math.pow(block33Y - y,2); 

    distance34X = Math.pow(block34X - x,2);     
    distance34Y = Math.pow(block34Y - y,2);         

    distance35X = Math.pow(block35X - x,2);         
    distance35Y = Math.pow(block35Y - y,2);   

    distance36X = Math.pow(block36X - x,2);        
    distance36Y = Math.pow(block36Y - y,2);          

    distance37X = Math.pow(block37X - x,2); 
    distance37Y = Math.pow(block37Y - y,2); 

    distance38X = Math.pow(block38X - x,2);     
    distance38Y = Math.pow(block38Y - y,2);         

    distance39X = Math.pow(block39X - x,2);         
    distance39Y = Math.pow(block39Y - y,2);   

    distance40X = Math.pow(block40X - x,2);        
    distance40Y = Math.pow(block40Y - y,2);   

    distance41X = Math.pow(block41X - x,2);        
    distance41Y = Math.pow(block41Y - y,2);     

    distance42X = Math.pow(block42X - x,2);        
    distance42Y = Math.pow(block42Y - y,2);             

    distance01 = Math.sqrt(distance01X + distance01Y);          //볼과 장애물 1원과의 직선거리
    distance02 = Math.sqrt(distance02X + distance02Y);         
    distance03 = Math.sqrt(distance03X + distance03Y);        
    distance04 = Math.sqrt(distance04X + distance04Y);
    distance05 = Math.sqrt(distance05X + distance05Y);
    distance06 = Math.sqrt(distance06X + distance06Y);         
    distance07 = Math.sqrt(distance07X + distance07Y);        
    distance08 = Math.sqrt(distance08X + distance08Y);
    distance09 = Math.sqrt(distance09X + distance09Y);
    distance10 = Math.sqrt(distance10X + distance10Y);         
    distance11 = Math.sqrt(distance11X + distance11Y);        
    distance12 = Math.sqrt(distance12X + distance12Y);
    distance13 = Math.sqrt(distance13X + distance13Y);
    distance14 = Math.sqrt(distance14X + distance14Y);         
    distance15 = Math.sqrt(distance15X + distance15Y);        
    distance16 = Math.sqrt(distance16X + distance16Y);
    distance17 = Math.sqrt(distance17X + distance17Y);
    distance18 = Math.sqrt(distance18X + distance18Y);         
    distance19 = Math.sqrt(distance19X + distance19Y);        
    distance20 = Math.sqrt(distance20X + distance20Y);
    distance21 = Math.sqrt(distance21X + distance21Y);
    distance22 = Math.sqrt(distance22X + distance22Y);         
    distance23 = Math.sqrt(distance23X + distance23Y);        
    distance24 = Math.sqrt(distance24X + distance24Y);
    distance25 = Math.sqrt(distance25X + distance25Y);        
    distance26 = Math.sqrt(distance26X + distance26Y);
    distance27 = Math.sqrt(distance17X + distance17Y);
    distance28 = Math.sqrt(distance28X + distance28Y);         
    distance29 = Math.sqrt(distance29X + distance29Y);        
    distance30 = Math.sqrt(distance30X + distance30Y);
    distance31 = Math.sqrt(distance31X + distance31Y);
    distance32 = Math.sqrt(distance32X + distance32Y);         
    distance33 = Math.sqrt(distance33X + distance33Y);        
    distance34 = Math.sqrt(distance34X + distance34Y);
    distance35 = Math.sqrt(distance35X + distance35Y);        
    distance36 = Math.sqrt(distance36X + distance36Y);
    distance37 = Math.sqrt(distance37X + distance37Y);
    distance38 = Math.sqrt(distance38X + distance38Y);         
    distance39 = Math.sqrt(distance39X + distance39Y);        
    distance40 = Math.sqrt(distance40X + distance40Y);
    distance41 = Math.sqrt(distance41X + distance41Y);
    distance42 = Math.sqrt(distance42X + distance42Y);
   
//캐릭터원과 장애물원의 반지름의 합
    sumradius01 = ballRadius + block01Radius;                   //01번 장애물과 캐릭터원의 반지름의 합
    sumradius02 = ballRadius + block02Radius;                
    sumradius03 = ballRadius + block03Radius;           
    sumradius04 = ballRadius + block04Radius;    
    sumradius05 = ballRadius + block05Radius;
    sumradius06 = ballRadius + block06Radius;
    sumradius07 = ballRadius + block07Radius;
    sumradius08 = ballRadius + block08Radius;    
    sumradius09 = ballRadius + block09Radius;
    sumradius10 = ballRadius + block10Radius;
    sumradius11 = ballRadius + block11Radius;
    sumradius12 = ballRadius + block12Radius;
    sumradius13 = ballRadius + block13Radius;
    sumradius14 = ballRadius + block14Radius;
    sumradius15 = ballRadius + block15Radius;
    sumradius16 = ballRadius + block16Radius;
    sumradius17 = ballRadius + block17Radius;
    sumradius18 = ballRadius + block18Radius;
    sumradius19 = ballRadius + block19Radius;
    sumradius20 = ballRadius + block20Radius;
    sumradius21 = ballRadius + block21Radius;
    sumradius22 = ballRadius + block22Radius;
    sumradius23 = ballRadius + block23Radius;
    sumradius24 = ballRadius + block24Radius;
    sumradius25 = ballRadius + block25Radius;
    sumradius26 = ballRadius + block26Radius;
    sumradius27 = ballRadius + block27Radius;
    sumradius28 = ballRadius + block28Radius;
    sumradius29 = ballRadius + block29Radius;
    sumradius30 = ballRadius + block30Radius;
    sumradius31 = ballRadius + block31Radius;
    sumradius32 = ballRadius + block32Radius;
    sumradius33 = ballRadius + block33Radius;
    sumradius34 = ballRadius + block34Radius;
    sumradius35 = ballRadius + block35Radius;
    sumradius36 = ballRadius + block36Radius;
    sumradius37 = ballRadius + block37Radius;
    sumradius38 = ballRadius + block38Radius;
    sumradius39 = ballRadius + block39Radius;
    sumradius40 = ballRadius + block40Radius;
    sumradius41 = ballRadius + block41Radius;
    sumradius42 = ballRadius + block42Radius;

    ctx.clearRect(0, 0, canvas.width, canvas.height);//이전 프레임의 공 지우는 함수

    drawBall();
    score

    if((x+ballRadius > canvas.width)|| (x-ballRadius < 0)) { // 양쪽 벽에 닿을때
        document.location.reload();                     // 정보를 다시불러오고
        x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
        y=0;
        alert("GAME OVER\n"+"Score : "+score);                             // 게임오버 메세지 띄움
    }
    
    if(y > canvas.height+ballRadius) {                           //공이 바닥에 닿았을때
        y = 0;                                                            //공위치를 다시 위로 설정해서 다시 내려오게 만듦   
        count++;                                                          //count 1증가
    }

    if(count == 0 ){
        stage1by1();
        if((sumradius01 > distance01) || (sumradius02 > distance02) || (sumradius03 > distance03) || (sumradius04 > distance04) || (sumradius05 > distance05))
        {
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("GAME OVER\n"+"Score : "+score);                         // 게임오버 메세지 띄움
            
        }
    }
    if(count == 1 ){
        stage1by2();
        if((sumradius06 > distance06) || (sumradius07 > distance07) || (sumradius08 > distance08))
        {
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("GAME OVER\n"+"Score : "+score);                      // 게임오버 메세지 띄움
            
        }
    }

    if(count == 2){
        stage1by3();
        if((sumradius09 > distance09) || (sumradius10 > distance10) || (sumradius11 > distance11)){
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("GAME OVER\n"+"Score : "+score);  
        }
        if(x >rectangleX  && x < rectangleX+rectangleWidth && y > rectangleY){                  // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("STAGE 1 CLEAR");
            leftPressed = false;
            rightPressed = false;
            count++;
        }
    }
    
    if(count == 3){
        stage2by1();
        if((sumradius12 > distance12) || (sumradius13 > distance13) || (sumradius14 > distance14)){
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("GAME OVER\n"+"Score : "+score);
        }
    }

    if(count == 4){
        stage2by2();
        if((sumradius15 > distance15) || (sumradius16 > distance16) || (sumradius17 > distance17)|| (sumradius18 > distance18) || (sumradius19 > distance19)|| (sumradius20 > distance20)){
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            leftPressed = false;
            rightPressed = false;
            alert("GAME OVER\n"+"Score : "+score);
        }
    }

    if(count == 5){
        stage2by3();
        if((sumradius21 > distance21) || (sumradius22 > distance22) || (sumradius23 > distance23) || (sumradius24 > distance24)){
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("GAME OVER\n"+"Score : "+score);
        }
        if(x >rectangleX  && x < rectangleX+rectangleWidth && y > rectangleY){                  // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            leftPressed = false;
            rightPressed = false;
            alert("STAGE 2 CLEAR");
            count++;
        }
    }

    if(count == 6){
        stage3by1();
        if((sumradius25 > distance25)|| (sumradius26 > distance26) || (sumradius27 > distance27)||(sumradius28 > distance28)||(sumradius42 > distance42)){
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("GAME OVER\n"+"Score : "+score);
        }
    }

    if(count == 7){
        stage3by2();
        if((sumradius29 > distance29) || (sumradius30 > distance30)|| (sumradius31 > distance31)||(sumradius32 > distance32)||(sumradius41 > distance41)){
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            leftPressed = false;
            rightPressed = false;
            alert("GAME OVER\n"+"Score : "+score);
        }
    }
    if(count == 8){
        stage3by3();
        if((sumradius33 > distance33) || (sumradius34 > distance34) || (sumradius35 > distance35) || (sumradius36 > distance36)||(sumradius37 > distance37) || (sumradius38 > distance38) || (sumradius39 > distance39) || (sumradius40 > distance40)){
            document.location.reload();                     // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("GAME OVER\n"+"Score : "+score);
        }
        if(x >rectangleX  && x < rectangleX+rectangleWidth && y > rectangleY){                  // 정보를 다시불러오고
            x=canvas.width/2;                               // 불러와도 다시시작 안되서 처음위치 다시 정의함
            y=0;
            alert("CONGRATULATIONS!\n ALL STAGE CLEAR!\n"+"Score : "+score);
        }
    }
}
alert("GAME START");
setInterval(draw, 10);

</script>

</body>
</html>